import{_ as y}from"./nuxt-img.B4pQPBbg.js";import{o as i,c as u,b as d,f as s,a as t,t as _,g as w,F as D,r as C,h as v,i as h,j as k,k as p,v as x,l as g,m as M,n as V,u as N}from"./entry.slxBjbjw.js";import{u as j}from"./fetch.TuZMNjhR.js";import{u as B}from"./vue.f36acd1f.Ca9TJZQ5.js";const S={class:"mt-10"},U={class:"mt-10 text-4xl"},A={class:"text-slate-500 flex text-lg mt-3 border-b pb-5 justify-between"},F={class:"flex"},E={class:"mr-2"},H=t("p",{class:"mr-2"},"|",-1),R={class:"mr-2"},I={class:"font-bold text-2xl"},L={__name:"DetailHero",props:{car:Object},setup(a){const o=w();return(e,r)=>{const n=y;return i(),u("div",S,[d(n,{src:`${s(o).public.supabase.url}/storage/v1/object/public/images/${a.car.image}`,class:"w-full",alt:""},null,8,["src"]),t("h1",U,_(a.car.name),1),t("div",A,[t("div",F,[t("p",E,_(a.car.seats)+" seats",1),H,t("p",R,_(a.car.miles)+" miles",1)]),t("div",null,[t("p",I,"$"+_(a.car.price),1)])])])}}},O=L,P={class:"mr-10 mt-5 border-b pb-5"},T=t("p",{class:"rounded text-lime-800 mr-3"},"âœ”",-1),Z={__name:"DetailAttributes",props:{features:Array},setup(a){return(o,e)=>(i(),u("div",P,[(i(!0),u(D,null,C(a.features,r=>(i(),u("div",{class:"flex text-lg mt-2",key:r},[T,t("p",null,_(r),1)]))),128))]))}},q=Z,z={class:"mt-5"},G={class:"mb-10"},J={__name:"DetailDescription",props:{description:String},setup(a){return(o,e)=>(i(),u("div",z,[t("p",G,_(a.description),1)]))}},K=J,Q={class:"mt-10"},W={class:"flex w-[600px] justify-between"},X={class:"flex mt-4 w-[600px]"},Y=["disabled"],ee={key:0,class:"text-red-400"},te={key:1,class:"text-green-400"},se={__name:"DetailContact",setup(a){const o=v(),e=h({name:"",email:"",phone:"",message:""}),r=h(""),n=h(""),f=k(()=>{for(let m in e.value)if(!e.value[m])return!0;return!1}),b=async()=>{try{const m=await $fetch(`/api/car/listings/${o.params.id}/message`,{method:"post",body:e.value});e.value={name:"",email:"",phone:"",message:""},n.value="Message sent!",r.value=""}catch(m){r.value=m.statusMessage,n.value=""}};return(m,c)=>(i(),u("div",Q,[t("div",W,[p(t("input",{"onUpdate:modelValue":c[0]||(c[0]=l=>s(e).name=l),type:"text",class:"border p-1",placeholder:"Name"},null,512),[[x,s(e).name]]),p(t("input",{"onUpdate:modelValue":c[1]||(c[1]=l=>s(e).email=l),type:"text",class:"border p-1",placeholder:"Email"},null,512),[[x,s(e).email]]),p(t("input",{"onUpdate:modelValue":c[2]||(c[2]=l=>s(e).phone=l),type:"text",class:"border p-1",placeholder:"Phone"},null,512),[[x,s(e).phone]])]),t("div",X,[p(t("textarea",{"onUpdate:modelValue":c[3]||(c[3]=l=>s(e).message=l),class:"border p-1 w-full",placeholder:"Message"},null,512),[[x,s(e).message]])]),t("button",{class:"bg-blue-400 text-white px-10 py-3 rounded mt-4",disabled:s(f),onClick:b}," Submit ",8,Y),s(r)?(i(),u("div",ee,_(s(r)),1)):g("",!0),s(n)?(i(),u("div",te,_(s(n)),1)):g("",!0)]))}},ae=se,oe=async a=>{const{data:o,error:e}=await j(`/api/car/${a}`,"$Z2BfINhu1R");if(e.value)throw M({statusCode:e.value.statusCode,statusMessage:e.value.statusMessage});return{data:o}},ie={__name:"[name]-[id]",async setup(a){let o,e;const r=v(),{data:n}=([o,e]=V(()=>oe(r.params.id)),o=await o,e(),o);return N(),B({title:`${n.value.name} is good!`}),(f,b)=>{const m=O,c=q,l=K,$=ae;return i(),u("div",null,[d(m,{car:s(n)},null,8,["car"]),d(c,{features:s(n).features},null,8,["features"]),d(l,{description:s(n).description},null,8,["description"]),d($)])}}};export{ie as default};
